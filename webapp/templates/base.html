<!DOCTYPE html>
<html lang="it">
<head>
<title>Tribunale di Pisa - Banca Dati Sezionale</title>
<link rel="icon" type="image/x-icon" href="{{ url_for('static',filename='images/favicon.ico') }}">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Dependencies-->
<script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
<!-- Dependencies-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="{{ url_for('static',filename='able/build/ableplayer.min.js') }}"></script>

<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/style.css') }}">
<link rel="stylesheet" type= "text/css" href="{{ url_for('static',filename='able/build/ableplayer.min.css') }}" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css" integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous">
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css" rel="stylesheet"/>

<style>
body {font-family: "Raleway", Arial, Helvetica, sans-serif}
	h1,h2,h3,h4,h5,h6 {font-family: "Open Sans", Arial, Helvetica, sans-serif}
</style>

</head>

<body class="w3-light-grey">

<!-- Top container -->
<header class="w3-bar w3-top w3-blutribu w3-large" style="z-index:4" title="Header">
  <button class="w3-bar-item w3-btnX w3-hide-large w3-hover-none w3-hover-text-light-grey" onclick="w3_open();" aria-label="Menù principale"><i class="fa fa-bars" aria-hidden="true"></i>  Menu</button>
  <span class="w3-bar-item w3-right" title="Logo"><i class="fa fa-balance-scale" aria-hidden="true"></i> Tribunale di Pisa - Banca Dati Sezionale</span>
</header>

<!-- Sidebar/menu -->
<div class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar" title="Colonna sinistra"><br aria-hidden="true">
  <nav class="w3-bar-block" title="Menù principale"> 
    <a accesskey="h" href="{{ url_for('home')}}" class="w3-bar-item w3-btnX w3-padding" role="menuitem" aria-label="Homepage"><i class="fa fa-home" aria-hidden="true"></i>  Home</a>
    <a accesskey="r" href="/advanced-search" class="w3-bar-item w3-btnX w3-padding" role="menuitem"><i class="fa fa-search fa-fw" aria-hidden="true"></i>  Ricerca Avanzata</a>
    <a accesskey="c" href="/insert" class="w3-bar-item w3-btnX w3-padding" role="menuitem"><i class="fa fa-upload fa-fw" aria-hidden="true"></i>  Carica Sentenza</a>
    <a accesskey="s" href="#" class="w3-bar-item w3-btnX w3-padding" role="menuitem"><i class="fa fa-bar-chart fa-fw" aria-hidden="true"></i>  Statistiche</a>
    <a accesskey="g" href="/guida" class="w3-bar-item w3-btnX w3-padding" role="menuitem"><i class="fa fa-book fa-fw" aria-hidden="true"></i>  Guida</a>
	<a accesskey="a" href="{{ url_for('accessibility')}}" class="w3-bar-item w3-btnX w3-padding" role="menuitem"><i class="fa fa-universal-access fa-fw" aria-hidden="true"></i>  Accessibilità</a>
	<br aria-hidden="true">
	<a href="#" class="w3-bar-item w3-btnX w3-padding" role="menuitem"><i class="fa fa-user-circle-o fa-fw" aria-hidden="true"></i>  Login Utente</a><br aria-hidden="true">
	<a href="#" class="w3-bar-item w3-btnX w3-padding-16 w3-hide-large w3-dark-grey w3-hover-black" onclick="w3_close()" title="close menu" ><i class="fa fa-remove fa-fw" aria-hidden="true"></i>  Chiudi menù</a>
  </nav>
  <br aria-hidden="true"><br aria-hidden="true">
</div>


<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opatab" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<main class="w3-main" style="margin-left:300px;margin-top:43px;" title="Contenuto principale">
{% block content %} {% endblock %}
</main>

<!-- Footer -->
<footer class="w3-padding-16 w3-linkclear w3-dark-grey w3-center" style="margin-left:300px" title="Menù secondario">
    <a href="#" role="menuitem">Accessibilità</a><span aria-hidden="true">&nbsp&nbsp|&nbsp&nbsp</span><a href="#" role="menuitem">Credits</a><span aria-hidden="true">&nbsp&nbsp|&nbsp&nbsp</span><a href="#" role="menuitem">Contatti</a><span aria-hidden="true">&nbsp&nbsp|&nbsp&nbsp</span><a href="#" role="menuitem">Sitemap</a><span aria-hidden="true">&nbsp&nbsp|&nbsp&nbsp</span><a href="#" role="menuitem">Privacy</a><span aria-hidden="true">&nbsp&nbsp|&nbsp&nbsp</span><a href="#" role="menuitem">Cookie Policy</a><span aria-hidden="true">&nbsp&nbsp|&nbsp&nbsp</span><a href="#" role="menuitem">Note Legali</a>
</footer>
<!-- End page content -->


<script>
// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
  if (mySidebar.style.display === 'block') {
    mySidebar.style.display = 'none';
    overlayBg.style.display = "none";
  } else {
    mySidebar.style.display = 'block';
    overlayBg.style.display = "block";
  }
}

// Close the sidebar with the close button
function w3_close() {
  mySidebar.style.display = "none";
  overlayBg.style.display = "none";
}

// Tabs
function openTab(evt, tabName) {
  var i, x, tablinks;
  x = document.getElementsByClassName("tab");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablink");
  for (i = 0; i < x.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" w3-blue", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " w3-blue";
}

'use strict';

class TabsAutomatic {
  constructor(groupNode) {
    this.tablistNode = groupNode;

    this.tabs = [];

    this.firstTab = null;
    this.lastTab = null;

    this.tabs = Array.from(this.tablistNode.querySelectorAll('[role=tab]'));
    this.tabpanels = [];

    for (var i = 0; i < this.tabs.length; i += 1) {
      var tab = this.tabs[i];
      var tabpanel = document.getElementById(tab.getAttribute('aria-controls'));

      tab.tabIndex = -1;
      tab.setAttribute('aria-selected', 'false');
      this.tabpanels.push(tabpanel);

      tab.addEventListener('keydown', this.onKeydown.bind(this));
      tab.addEventListener('click', this.onClick.bind(this));

      if (!this.firstTab) {
        this.firstTab = tab;
      }
      this.lastTab = tab;
    }

    this.setSelectedTab(this.firstTab, false);
  }

  setSelectedTab(currentTab, setFocus) {
    if (typeof setFocus !== 'boolean') {
      setFocus = true;
    }
    for (var i = 0; i < this.tabs.length; i += 1) {
      var tab = this.tabs[i];
      if (currentTab === tab) {
        tab.setAttribute('aria-selected', 'true');
        tab.removeAttribute('tabindex');
        this.tabpanels[i].classList.remove('is-hidden');
        if (setFocus) {
          tab.focus();
        }
      } else {
        tab.setAttribute('aria-selected', 'false');
        tab.tabIndex = -1;
        this.tabpanels[i].classList.add('is-hidden');
      }
    }
  }

  setSelectedToPreviousTab(currentTab) {
    var index;

    if (currentTab === this.firstTab) {
      this.setSelectedTab(this.lastTab);
    } else {
      index = this.tabs.indexOf(currentTab);
      this.setSelectedTab(this.tabs[index - 1]);
    }
  }

  setSelectedToNextTab(currentTab) {
    var index;

    if (currentTab === this.lastTab) {
      this.setSelectedTab(this.firstTab);
    } else {
      index = this.tabs.indexOf(currentTab);
      this.setSelectedTab(this.tabs[index + 1]);
    }
  }

  /* EVENT HANDLERS */

  onKeydown(event) {
    var tgt = event.currentTarget,
      flag = false;

    switch (event.key) {
      case 'ArrowLeft':
        this.setSelectedToPreviousTab(tgt);
        flag = true;
        break;

      case 'ArrowRight':
        this.setSelectedToNextTab(tgt);
        flag = true;
        break;

      case 'Home':
        this.setSelectedTab(this.firstTab);
        flag = true;
        break;

      case 'End':
        this.setSelectedTab(this.lastTab);
        flag = true;
        break;

      default:
        break;
    }

    if (flag) {
      event.stopPropagation();
      event.preventDefault();
    }
  }

  onClick(event) {
    this.setSelectedTab(event.currentTarget);
  }
}

// Initialize tablist

window.addEventListener('load', function () {
  var tablists = document.querySelectorAll('[role=tablist].automatic');
  for (var i = 0; i < tablists.length; i++) {
    new TabsAutomatic(tablists[i]);
  }
});
</script>

<!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	
<script> //Speech to text

        function SpeechRecog() {
            var output = document.getElementById("search-input");
            var action = document.getElementById("action");
                var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;
                var recognition = new SpeechRecognition();
            
                // This runs when the speech recognition service starts
                recognition.onstart = function() {
                    action.innerHTML = "<small>listening, please speak...</small>";
                };
                
                recognition.onspeechend = function() {
                    action.innerHTML = "<small>stopped listening, hope you are done...</small>";
                    recognition.stop();
                }
              
                // This runs when the speech recognition service returns result
                recognition.onresult = function(event) {
                    var transcript = event.results[0][0].transcript;
                    var confidence = event.results[0][0].confidence;
                    output.value=transcript;
                };
              
                 // start recognition
                 recognition.start();
          }
</script>

<script> // input con invio
var input = document.getElementById("search-input");
input.addEventListener("keypress", function(event) {
  if (event.key === "Enter") {
    event.preventDefault();
    document.getElementById("search-button").click();
  }
});
</script>
</body>
</html>
